name: Deploy to Render

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Trigger Render Deploy
        run: |
          curl -X POST ${{ secrets.RENDER_DEPLOY_HOOK_URL }}
# Add render deploy hook URL as a secret in your GitHub repository settings
#You're almost there! Here's exactly what you need to do in GitHub to make your deploy action work:

# ---

#   ### ✅ 1. **Get Your Render Deploy Hook URL**
#   - Go to [Render](https://dashboard.render.com/)
#   - Select your service (frontend or backend)
#   - Click **"Deploy Hooks"** in the left sidebar
#   - Click **"Enable Deploy Hook"** (if it’s not already)
#   - Copy the **Deploy Hook URL**
  
#   ---
  
#   ### ✅ 2. **Add the URL as a Secret in GitHub**
#   To protect your deploy URL (so it’s not visible in the `.yml` file), do this:
  
#   1. Go to your repo on GitHub
#   2. Click **Settings**
#   3. In the sidebar, click **Secrets and variables > Actions**
#   4. Click **New repository secret**
#   5. Name it exactly: `RENDER_DEPLOY_HOOK_URL`
#   6. Paste the deploy hook URL as the value
#   7. Click **Add secret**
  
#   ---
  
#   ### ✅ 3. **Push to `main` to Test**
#   Whenever you push to the `main` branch, GitHub Actions will:
#   - Trigger your `.yml` workflow
#   - Use the secret to make a `POST` request to your Render hook
#   - Render will deploy your app automatically
  
#   ---
  
#   ### ✅ Optional Tips
#   - 💡 You can have separate hooks for frontend and backend.
#   - 🛡️ Consider setting branch protection rules on `main` to prevent accidental overwrites.
#   - 🔍 Check your Actions tab in GitHub for real-time logs if something doesn't work.
  
#   Let me know if you want help setting up separate deploys for both frontend and backend or customizing the deploy conditions!